<ons-page>
        <style>
            .toolbar{
                background-image: none;
            }
            #loading{
                position:absolute;
                left:50%;
                top:30%;
            }
            #ptr{
                border:none !important;
                /* height:60px !important;
                margin: -61px 0px 0px !important;
                line-height: 60px !important;
                font-size: 20px !important; */
            }
            /* .toolbar+.page__background+.page__content{
                top:64px;
            } */
        </style>
        <ons-toolbar class="toolbar" style="background-color: white;">
            <div class="right" style="padding-right:5px;float:right;">
                <button class="button" style="border-radius:30px;background: gray;height:80%;line-height: initial;vertical-align: middle;font-size:12px;margin-bottom:3px;" onclick="searchGift('キーワード検索');">検索</button>
                <button class="button" style="border-radius:30px;background: transparent;height:80%;line-height: initial;vertical-align: middle;font-size:12px;" onclick="document.getElementById('navi').bringPageTop('search.html')"><i class="fas fa-filter fa-lg" style="color:gray;"></i></button>
            </div>
            <div class="center" style="width:0%;">
            </div>
            <div class="left" style="width:80%;float:left;max-width: 80%;padding-left:10px;">
                <input id="user_name_search"type="search" value="" placeholder="ユーザー名で検索" class="search-input" style="width:100%;border-radius: 20px;margin-top:5px;" required>
            </div>
        </ons-toolbar>
        <div id="ptr">
        </div>
        <div id="content" class="container contents top-container" style="position:relative;">
            <div id="swiper_menu"class="swiper-container swiper-navigation" style="position: fixed;left:0px;width:100%;height:35px;background-color: white;z-index:100;">
                <div class="swiper-wrapper sp-navi">
                    <div class="swiper-slide selected sp-slide">
                        <span class="navi-menu">新着</span>
                    </div>
                    <div class="swiper-slide sp-slide">
                        <span class="navi-menu">フォロー</span>
                    </div>
                </div>
            </div>
            <div id="sp-content" class="swiper-container swiper-contents" style="min-height: 650px;">
                <div class="swiper-wrapper sp-content" style="margin-top:35px;">
                    <div id="shintyakuArea" class="swiper-slide">
                        <div id="shintyakuList" style="height:auto;"></div>
                    </div>
                    <div class="swiper-slide">
                        <div id="followGiftList"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="alert-dialog-mask searchKeywordNo_dialog_mask" style="z-index:1000;"></div>
    <div class="alert-dialog searchKeywordNo_dialog" style="z-index: 1001;">
        <div class="alert-dialog-container">
            <div class="alert-dialog-title">検索キーワードを<br>入力してください</div>
            <div class="alert-dialog-footer">
                <button class="alert-dialog-button alert-dialog-button--primal" onclick="searchKeywordNoClose();">OK</button>
            </div>
        </div>
    </div>
    <script>
        $('.searchKeywordNo_dialog_mask,.searchKeywordNo_dialog').hide();
        var shintyakuCounter=0;
        
        setTimeout(function(){
            bottomRefresh();
        },1000);

        function bottomRefresh(){
            $('#topBottom').on('inview',  function(event, isInView){
                if (isInView) {
                    console.log("見えてる");
                    shintyakuCounter++;
                    shintyaku(shintyakuCounter);
                }else{
                    console.log("見えてない");
                }
            });
        }
        
        function searchKeywordNoOpen(){
            $('.searchKeywordNo_dialog_mask,.searchKeywordNo_dialog').slideDown();
        }
        function searchKeywordNoClose(){
            $('.searchKeywordNo_dialog').slideUp();
            setTimeout(function(){
                $('.searchKeywordNo_dialog_mask').slideUp();
            },500);
        }
        $(document).ready(function(){
            var ptr = new PullToReload({ 
                'callback-loading': function(){
                    setTimeout(function(){
                        ptr.loadingEnd();
                        location.reload();
                    }, 1000);
                    
                },
                'height': 40,
                'font-size': '20px',
                'threshold': 20,
                'pre-content': 'Loading...',
                'loading-content': 'Loading...',
            });
        });
        
        // this.opts = {
        //     'refresh-element': 'ptr', //Required
        //     'content-element': 'sp-content', //Required
        //     'border-height': 1,
        //     'height': 40,
        //     'font-size': '30px',
        //     'threshold': 20,
        //     'pre-content': 'Loading...',
        //     'loading-content': 'Loading...',
        //     'callback-loading': function(){ setTimeout(function(){ self.loadingEnd(); }, 1000); } //Required
        // }
    </script>
</ons-page>